{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Hytale Server Manager","text":""},{"location":"#hytale-server-manager","title":"Hytale Server Manager","text":"<p>Terminal UI (TUI) for managing Hytale dedicated servers natively. Deploy multiple server instances in minutes with auto-updates, OAuth authentication, and native Java performance.</p>"},{"location":"#what-it-does","title":"What it does","text":"<ul> <li>Multi-server deployment: Spin up multiple Hytale servers with a single command.</li> <li>Native Java: Best performance with lower CPU and memory usage (no Docker overhead).</li> <li>Interactive TUI: Terminal-based interface with tabbed navigation for all operations.</li> <li>Installation wizard: Guided setup with automatic dependency installation (Java 25, tmux, etc.).</li> <li>Real-time status: Live server status dashboard showing running/stopped servers, ports, and sessions.</li> <li>Safe updates: Handles game and plugin updates automatically while preserving your configs.</li> <li>OAuth authentication: Integrated Hytale authentication with token management.</li> <li>Persistent data: Worlds, tokens, and logs survive restarts.</li> <li>Observability &amp; control: Go-based TUI and tmux integration for logs and debugging.</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>For most users, installing <code>hsm</code> globally and running the TUI is all you need:</p> <pre><code># One-line installation from GitHub releases (recommended)\narch=$(uname -m); \\\ncase \"$arch\" in \\\n  x86_64)  asset=\"hsm-linux-amd64\" ;; \\\n  aarch64|arm64) asset=\"hsm-linux-arm64\" ;; \\\n  *) echo \"Unsupported architecture: $arch\" &amp;&amp; exit 1 ;; \\\nesac; \\\ntmp=$(mktemp); \\\ncurl -L \"https://github.com/sivert-io/hytale-server-manager/releases/latest/download/$asset\" -o \"$tmp\" &amp;&amp; \\\nsudo install -m 0755 \"$tmp\" /usr/local/bin/hsm &amp;&amp; \\\nrm \"$tmp\" &amp;&amp; \\\nsudo hsm            # launches the interactive TUI installer\n</code></pre> <p>Alternative: Build from source</p> <pre><code># Clone the repository\ngit clone https://github.com/sivert-io/hytale-server-manager.git\ncd hytale-server-manager\n\n# Build and install globally (requires sudo)\nsudo ./install.sh\n\n# Run the TUI\nsudo hsm\n</code></pre> <p>Read the Getting Started section for a full walkthrough.</p>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>hytale-server-manager/\n\u251c\u2500\u2500 src/                    # Go source code\n\u2502   \u251c\u2500\u2500 cmd/hytale-tui/    # TUI entry point\n\u2502   \u2514\u2500\u2500 internal/\n\u2502       \u251c\u2500\u2500 tui/           # TUI layer (user interface)\n\u2502       \u2514\u2500\u2500 hytale/        # Backend layer (server management)\n\u251c\u2500\u2500 tools/                  # Helper scripts\n\u2502   \u251c\u2500\u2500 release.sh         # GitHub release script\n\u2502   \u2514\u2500\u2500 start.sh           # Development build script\n\u251c\u2500\u2500 data/                   # Server data (worlds, configs, logs)\n\u251c\u2500\u2500 install.sh             # Global installation script (build from source)\n\u2514\u2500\u2500 docs/                   # Documentation\n</code></pre> <p>Server data is stored in <code>data/</code> (worlds, configs, logs, tokens).</p>"},{"location":"#tui-features","title":"TUI Features","text":"<p>The HSM TUI provides a complete interface for managing your servers:</p> <ul> <li>Install Tab: Interactive wizard for initial setup and configuration</li> <li>Updates Tab: Update game files and plugins</li> <li>Servers Tab: Start/stop/restart servers, view logs, scale instances</li> <li>Tools Tab: Edit configs, view detailed server status dashboard</li> </ul> <p>All operations are accessible via keyboard navigation (arrow keys, Enter, Esc).</p> <p>See:</p> <ul> <li>Getting Started \u2192 Quick Start \u2013 first-time setup and TUI navigation.</li> <li>Guides \u2192 Managing Servers \u2013 everyday operations and TUI features.</li> <li>Guides \u2192 Configuration \u2013 customizing your servers.</li> <li>Guides \u2192 Auto Updates \u2013 how updates are handled behind the scenes.</li> <li>Guides \u2192 Troubleshooting \u2013 common problems and fixes.</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>GitHub Issues \u2013 report bugs or request features.</li> <li>Discussions \u2013 ask questions and share ideas.</li> </ul>"},{"location":"#license-credits","title":"License &amp; credits","text":"<p>MIT License \u2022 Made with  for the Hytale community</p>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":""},{"location":"getting-started/quick-start/#quick-start","title":"Quick Start","text":"<p>This guide gets you from zero to running Hytale servers in a few minutes.</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<ul> <li>OS: Ubuntu 22.04+ (or similar modern Linux distro).</li> <li>Root / sudo access on the machine that will host the servers.</li> <li>Go 1.19+ installed (for building the TUI binary).</li> <li>Enough resources for multiple Hytale servers (CPU, RAM, and disk).</li> </ul>"},{"location":"getting-started/quick-start/#1-install-hsm-globally-and-run-the-installer-wizard","title":"1. Install HSM globally and run the installer wizard","text":"<p>From your target server, install from GitHub releases:</p> <pre><code># One-line installation from GitHub releases (recommended)\narch=$(uname -m); \\\ncase \"$arch\" in \\\n  x86_64)  asset=\"hsm-linux-amd64\" ;; \\\n  aarch64|arm64) asset=\"hsm-linux-arm64\" ;; \\\n  *) echo \"Unsupported architecture: $arch\" &amp;&amp; exit 1 ;; \\\nesac; \\\ntmp=$(mktemp); \\\ncurl -L \"https://github.com/sivert-io/hytale-server-manager/releases/latest/download/$asset\" -o \"$tmp\" &amp;&amp; \\\nsudo install -m 0755 \"$tmp\" /usr/local/bin/hsm &amp;&amp; \\\nrm \"$tmp\" &amp;&amp; \\\nsudo hsm            # launches the interactive TUI installer\n</code></pre> <p>Alternative: Build from source</p> <pre><code># Clone the repository\ngit clone https://github.com/sivert-io/hytale-server-manager.git\ncd hytale-server-manager\n\n# Build and install globally (requires sudo)\nsudo ./install.sh\n\n# Run the TUI\nsudo hsm\n</code></pre> <p>The installer wizard will:</p> <ul> <li>Install required system dependencies (Java 25, tmux, etc.).</li> <li>Guide you through Hytale OAuth authentication.</li> <li>Download Hytale server files using <code>hytale-downloader</code>.</li> <li>Configure multiple Hytale instances with sane defaults.</li> </ul>"},{"location":"getting-started/quick-start/#2-use-the-hsm-tui","title":"2. Use the HSM TUI","text":"<p>Once installation completes, you can re-open the TUI at any time with:</p> <pre><code>sudo hsm            # run all TUI actions (install, updates, status, logs)\n</code></pre> <p>From the TUI you can:</p> <ul> <li>Install Tab: Run the installation wizard to set up servers</li> <li>Updates Tab: Update game files or plugins</li> <li>Servers Tab: Start/stop/restart all servers, view logs, scale servers</li> <li>Tools Tab: Edit server configs, view detailed server status</li> </ul>"},{"location":"getting-started/quick-start/#tui-navigation","title":"TUI Navigation","text":"<ul> <li>Arrow Keys (\u2191/\u2193) or j/k: Navigate menu items</li> <li>Arrow Keys (\u2190/\u2192) or h/l: Switch between tabs</li> <li>Enter: Select/execute action</li> <li>Esc or q: Exit current view (returns to main menu)</li> <li>Ctrl+C or q (from main menu): Quit application</li> </ul>"},{"location":"getting-started/quick-start/#3-next-steps","title":"3. Next steps","text":"<ul> <li>See Guides \u2192 Managing Servers for day-to-day operations.</li> <li>See Guides \u2192 Configuration to customize configs before or after installation.</li> <li>See Guides \u2192 Auto Updates to understand how updates are handled.</li> </ul>"},{"location":"getting-started/server-setup/","title":"Server Setup","text":""},{"location":"getting-started/server-setup/#server-setup","title":"Server Setup","text":"<p>This page explains how to prepare a machine for Hytale Server Manager and what the installation script expects.</p>"},{"location":"getting-started/server-setup/#system-requirements","title":"System requirements","text":"<ul> <li>Linux server (Ubuntu 22.04+ recommended).</li> <li>Root / sudo access.</li> <li>64-bit CPU with sufficient cores for multiple game servers.</li> <li>At least 16 GB RAM recommended (8 GB minimum).</li> <li>4 CPU cores recommended (2 cores minimum).</li> <li>Stable network with UDP port 5520 open and forwarded.</li> </ul>"},{"location":"getting-started/server-setup/#required-packages","title":"Required packages","text":"<p>The installer will attempt to install most dependencies for you, but in locked-down environments you may need to do it manually:</p> <pre><code>sudo apt-get update\nsudo apt-get install -y \\\n  tmux curl unzip tar git\n</code></pre> <p>You also need:</p> <ul> <li>Java 25+ \u2013 Auto-installed by the installation wizard if missing (Eclipse Temurin via Adoptium).</li> <li>hytale-downloader \u2013 Required for downloading server files. The installer will guide you through setup if missing.</li> <li>Go 1.19+ \u2013 Required for building the TUI binary (only needed if building from source).</li> </ul>"},{"location":"getting-started/server-setup/#network-and-ports","title":"Network and ports","text":"<p>By default, servers use incrementing ports. A typical layout is:</p> Server Port 1 5520 2 5521 3 5522 <p>Note: Hytale uses QUIC over UDP (not TCP). Make sure your firewall allows UDP traffic on these ports and forward them on your router.</p>"},{"location":"getting-started/server-setup/#filesystem-layout","title":"Filesystem layout","text":"<p>After installation, your key locations are:</p> <ul> <li>The <code>hsm</code> binary installed to <code>/usr/local/bin/hsm</code> (globally available).</li> <li>The <code>data/</code> directory (default: <code>./data/</code> from where you run <code>hsm</code>) containing server data (worlds, configs, logs, tokens).</li> </ul> <p>Server instances are managed via tmux sessions, with each server running in its own session (e.g., <code>hytale-server-1</code>, <code>hytale-server-2</code>).</p>"},{"location":"getting-started/server-setup/#project-structure","title":"Project structure","text":"<pre><code>hytale-server-manager/\n\u251c\u2500\u2500 src/                    # Go source code (if cloned)\n\u2502   \u251c\u2500\u2500 cmd/hytale-tui/    # TUI entry point\n\u2502   \u2514\u2500\u2500 internal/\n\u2502       \u251c\u2500\u2500 tui/           # TUI layer (user interface)\n\u2502       \u2514\u2500\u2500 hytale/        # Backend layer (server management)\n\u251c\u2500\u2500 tools/                  # Helper scripts (if cloned)\n\u2502   \u251c\u2500\u2500 release.sh         # GitHub release script\n\u2502   \u2514\u2500\u2500 start.sh           # Development build script\n\u251c\u2500\u2500 data/                   # Server data (worlds, configs, logs)\n\u251c\u2500\u2500 install.sh             # Global installation script (build from source)\n\u2514\u2500\u2500 docs/                   # Documentation\n</code></pre>"},{"location":"getting-started/server-setup/#hytale-authentication","title":"Hytale authentication","text":"<p>HSM uses OAuth2 authentication for Hytale servers:</p> <ol> <li>Device code flow \u2013 The installation wizard (Install Tab \u2192 Run Installation Wizard) guides you through authenticating with your Hytale account.</li> <li>Token storage \u2013 OAuth tokens are stored securely in <code>data/</code> and refreshed automatically.</li> <li>Profile selection \u2013 Choose which Hytale profile to use for server management.</li> <li>Game sessions \u2013 Each server creates a game session for authentication.</li> </ol> <p>The installation wizard in the TUI provides step-by-step authentication setup. You can re-run the wizard at any time from the Install Tab if you need to re-authenticate.</p>"},{"location":"getting-started/server-setup/#running-the-installer","title":"Running the installer","text":"<p>Once prerequisites are in place, follow Getting Started \u2192 Quick Start to run the installer and bring up your first servers.</p>"},{"location":"guides/auto-updates/","title":"Auto Updates","text":""},{"location":"guides/auto-updates/#auto-updates","title":"Auto Updates","text":"<p>Hytale Server Manager includes automated update capabilities for Hytale server files.</p>"},{"location":"guides/auto-updates/#what-gets-automated","title":"What gets automated","text":"<p>The update system:</p> <ul> <li>Downloads latest Hytale server files using <code>hytale-downloader</code>.</li> <li>Extracts and verifies server files automatically.</li> <li>Preserves your <code>data/</code> directory (worlds, configs, tokens).</li> <li>Can be triggered manually via TUI or automatically in the future.</li> </ul>"},{"location":"guides/auto-updates/#how-updates-work","title":"How updates work","text":"<p>Hytale server files are managed via <code>hytale-downloader</code>:</p> <ol> <li>OAuth authentication \u2013 Uses your Hytale account tokens (stored in <code>data/.cache/.hytale-downloader-credentials.json</code>).</li> <li>Download \u2013 Fetches latest server files from Hytale's patchline servers.</li> <li>Extraction \u2013 Extracts server JAR and assets to <code>data/Server/</code> and <code>data/Assets.zip</code>.</li> <li>Verification \u2013 Ensures required files (HytaleServer.jar, Assets.zip) are present.</li> </ol>"},{"location":"guides/auto-updates/#updating-via-tui","title":"Updating via TUI","text":"<p>The easiest way to update:</p> <pre><code>sudo hsm\n</code></pre> <p>Then:</p> <ol> <li>Navigate to the Updates tab.</li> <li>Select \"Update Game\" to download latest server files.</li> <li>Restart servers after update completes (via Servers tab).</li> </ol>"},{"location":"guides/auto-updates/#manual-updates","title":"Manual updates","text":"<p>You can also update manually using <code>hytale-downloader</code>:</p> <pre><code># Ensure you're authenticated\nhytale-downloader login\n\n# Download latest files (uses stored credentials)\nhytale-downloader -patchline production -credentials-path data/.cache/.hytale-downloader-credentials.json\n\n# Files will be downloaded to data/.cache/, then extract them\nunzip -o data/.cache/*.zip -d data/\n</code></pre>"},{"location":"guides/auto-updates/#update-safety","title":"Update safety","text":"<ul> <li>World data preserved \u2013 Your <code>data/universe/</code> directory is never touched during updates.</li> <li>Configs preserved \u2013 <code>config.json</code>, <code>permissions.json</code>, etc. remain intact.</li> <li>Tokens preserved \u2013 OAuth tokens in <code>auth.enc</code> and <code>.cache/.hytale-downloader-credentials.json</code> are preserved.</li> <li>Backup recommended \u2013 Before major updates, consider backing up your <code>data/</code> directory.</li> </ul>"},{"location":"guides/auto-updates/#version-tracking","title":"Version tracking","text":"<p>HSM tracks the downloaded server version in:</p> <ul> <li><code>data/.version_info</code> \u2013 Contains patchline and version information.</li> </ul> <p>You can check the current version:</p> <pre><code>cat data/.version_info\n</code></pre>"},{"location":"guides/auto-updates/#future-automatic-update-monitoring","title":"Future: Automatic update monitoring","text":"<p>Future versions may include automatic update checking and monitoring, similar to auto-update monitors in other server managers.</p>"},{"location":"guides/configuration/","title":"Configuration","text":""},{"location":"guides/configuration/#configuration","title":"Configuration","text":"<p>Hytale Server Manager stores server data in the <code>data/</code> directory. This page explains how configuration is structured and how to safely customize servers.</p>"},{"location":"guides/configuration/#installation-methods","title":"Installation methods","text":"<p>You can install with one of two common flows:</p>"},{"location":"guides/configuration/#1-install-from-github-releases-recommended","title":"1. Install from GitHub releases (recommended)","text":"<pre><code># One-line installation from GitHub releases\narch=$(uname -m); \\\ncase \"$arch\" in \\\n  x86_64)  asset=\"hsm-linux-amd64\" ;; \\\n  aarch64|arm64) asset=\"hsm-linux-arm64\" ;; \\\n  *) echo \"Unsupported architecture: $arch\" &amp;&amp; exit 1 ;; \\\nesac; \\\ntmp=$(mktemp); \\\ncurl -L \"https://github.com/sivert-io/hytale-server-manager/releases/latest/download/$asset\" -o \"$tmp\" &amp;&amp; \\\nsudo install -m 0755 \"$tmp\" /usr/local/bin/hsm &amp;&amp; \\\nrm \"$tmp\" &amp;&amp; \\\nsudo hsm\n</code></pre> <p>This installs the <code>hsm</code> binary globally. Server data is stored in a <code>data/</code> directory relative to where you run <code>hsm</code>.</p>"},{"location":"guides/configuration/#2-build-from-source","title":"2. Build from source","text":"<pre><code>git clone https://github.com/sivert-io/hytale-server-manager.git\ncd hytale-server-manager\n\n# Build and install globally (requires sudo)\nsudo ./install.sh\n\n# Run the TUI\nsudo hsm\n</code></pre>"},{"location":"guides/configuration/#data-directory-structure","title":"Data directory structure","text":"<p>The <code>data/</code> directory contains all server data:</p> <pre><code>data/\n\u251c\u2500\u2500 Server/                  # Server JAR and assets (master-install)\n\u251c\u2500\u2500 Assets.zip              # Hytale assets file\n\u251c\u2500\u2500 config.json             # Server configuration\n\u251c\u2500\u2500 permissions.json        # Player permissions\n\u251c\u2500\u2500 auth.enc                # OAuth authentication tokens\n\u251c\u2500\u2500 whitelist.json          # Server whitelist\n\u251c\u2500\u2500 bans.json               # Server bans\n\u251c\u2500\u2500 logs/                   # Server logs\n\u251c\u2500\u2500 universe/               # World data\n\u251c\u2500\u2500 mods/                   # Server mods/plugins\n\u2514\u2500\u2500 .cache/                 # Cache and temporary files\n</code></pre> <p>Files in <code>data/</code> are never deleted during updates, so your worlds, configs, and settings persist.</p>"},{"location":"guides/configuration/#ports-and-networking","title":"Ports and networking","text":"<p>Default ports (incrementing from base port):</p> Server Port 1 5520 2 5521 3 5522 <ul> <li>Default base port: 5520</li> <li>You can adjust ports in the installation wizard or server configuration.</li> <li>Each server runs in its own tmux session (e.g., <code>hytale-server-1</code>).</li> </ul>"},{"location":"guides/configuration/#jvm-arguments","title":"JVM arguments","text":"<p>Default JVM memory settings:</p> <ul> <li>Initial heap: <code>-Xms4G</code></li> <li>Maximum heap: <code>-Xmx8G</code></li> </ul> <p>You can customize JVM arguments in the installation wizard during setup.</p>"},{"location":"guides/configuration/#best-practices","title":"Best practices","text":"<ul> <li>Keep all long-term customizations inside <code>data/</code>.</li> <li>Use a git repo for your <code>data/</code> directory so you can version changes (but exclude sensitive files like <code>auth.enc</code>).</li> <li>Avoid editing server files directly unless testing something temporarily.</li> <li>After changing configs, restart the relevant server(s) via the TUI or manually.</li> <li>Backup <code>data/</code> regularly, especially <code>universe/</code> (world data) and <code>auth.enc</code> (tokens).</li> </ul>"},{"location":"guides/development/","title":"Development","text":""},{"location":"guides/development/#development-guide","title":"Development Guide","text":"<p>This guide covers the architecture and development patterns used in HSM for contributors.</p>"},{"location":"guides/development/#architecture-overview","title":"Architecture Overview","text":"<p>HSM uses a Bubble Tea-based TUI with a clean separation between:</p> <ul> <li>TUI Layer (<code>src/internal/tui/</code>) - User interface, views, input handling</li> <li>Backend Layer (<code>src/internal/hytale/</code>) - Game-specific operations, server management, file I/O</li> </ul>"},{"location":"guides/development/#project-structure","title":"Project Structure","text":"<pre><code>hytale-server-manager/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 cmd/\n\u2502   \u2502   \u2514\u2500\u2500 hytale-tui/\n\u2502   \u2502       \u2514\u2500\u2500 main.go           # Entry point, CLI parsing\n\u2502   \u2514\u2500\u2500 internal/\n\u2502       \u251c\u2500\u2500 tui/                  # TUI layer (UI logic only)\n\u2502       \u2502   \u251c\u2500\u2500 model.go          # Main state machine, Update/View\n\u2502       \u2502   \u251c\u2500\u2500 install_wizard.go # Installation wizard\n\u2502       \u2502   \u251c\u2500\u2500 status.go         # Server status polling\n\u2502       \u2502   \u251c\u2500\u2500 commands.go       # TUI command wrappers\n\u2502       \u2502   \u2514\u2500\u2500 version.go        # Version information\n\u2502       \u2514\u2500\u2500 hytale/               # Backend layer (game operations)\n\u2502           \u251c\u2500\u2500 bootstrap.go      # Server installation/setup\n\u2502           \u251c\u2500\u2500 servers.go        # Server lifecycle management\n\u2502           \u251c\u2500\u2500 tmux.go           # Tmux session management\n\u2502           \u251c\u2500\u2500 update.go         # Game/plugin updates\n\u2502           \u2514\u2500\u2500 consts.go         # Defaults and constants\n\u251c\u2500\u2500 tools/                        # Helper scripts\n\u2502   \u251c\u2500\u2500 release.sh               # GitHub release script\n\u2502   \u2514\u2500\u2500 start.sh                 # Development build script\n\u251c\u2500\u2500 data/                         # Server data (worlds, configs, logs)\n\u251c\u2500\u2500 docs/                         # Documentation\n\u2514\u2500\u2500 install.sh                    # Global installation script (build from source)\n</code></pre> <p>Note: There is no <code>scripts/</code> directory. Authentication and server scripts are handled via external tools (<code>hytale-downloader</code>, <code>hytale-auth</code>).</p>"},{"location":"guides/development/#technology-stack","title":"Technology Stack","text":""},{"location":"guides/development/#core-dependencies","title":"Core Dependencies","text":"<ul> <li>Bubble Tea (<code>github.com/charmbracelet/bubbletea</code>) - TUI framework</li> <li>Bubbles (<code>github.com/charmbracelet/bubbles</code>) - Reusable TUI components:</li> <li><code>viewport</code> - Scrollable content display</li> <li><code>textinput</code> - Text input fields</li> <li><code>spinner</code> - Loading animations</li> <li><code>progress</code> - Progress bars</li> <li>Lip Gloss (<code>github.com/charmbracelet/lipgloss</code>) - Styling and colors</li> </ul>"},{"location":"guides/development/#architecture-patterns","title":"Architecture Patterns","text":""},{"location":"guides/development/#1-state-machine-pattern-modelgo","title":"1. State Machine Pattern (<code>model.go</code>)","text":"<p>The TUI uses a <code>model</code> struct that holds all state and implements Bubble Tea's <code>Model</code> interface:</p> <pre><code>type model struct {\n    view   viewMode           // Current view (main menu, wizard, etc.)\n    tab    tab                // Current tab (Install, Updates, Servers, Tools)\n    items  []menuItem         // Menu items for current tab\n    cursor int                // Selected menu item\n    status string             // Status bar message\n    running bool              // Is a command running?\n    wizard installWizard      // Install wizard state\n    viewport viewport.Model   // Viewport for logs/status\n    serverStatuses []serverStatus  // Server status tracking\n    // ... other state\n}\n</code></pre> <p>Key Methods: - <code>Init() tea.Cmd</code> - Initialize and return initial commands - <code>Update(msg tea.Msg) (tea.Model, tea.Cmd)</code> - Handle messages, return updated model + commands - <code>View() string</code> - Render the current view as a string</p>"},{"location":"guides/development/#2-view-modes","title":"2. View Modes","text":"<p>Use an enum for different views:</p> <pre><code>type viewMode int\nconst (\n    viewMain viewMode = iota\n    viewInstallWizard\n    viewViewport\n    viewActionResult\n    viewEditServerConfigs\n    viewServerStatus\n    // ... other views\n)\n</code></pre> <p>Key Views: - <code>viewMain</code>: Main menu with tabs and menu items (tab bar visible) - <code>viewInstallWizard</code>: Interactive installation wizard with form fields - <code>viewViewport</code>: Scrollable viewport for logs and other content - <code>viewServerStatus</code>: Real-time server status dashboard with table view - <code>viewEditServerConfigs</code>: Server configuration editor (future)</p>"},{"location":"guides/development/#3-tabbed-menu-system","title":"3. Tabbed Menu System","text":"<p>Organize menu items into tabs:</p> <ul> <li>Install Tab: Installation wizard with interactive form</li> <li>Updates Tab: Game updates, plugin updates, auto-update monitor</li> <li>Servers Tab: Start/stop/restart all servers, view logs, scale up/down</li> <li>Tools Tab: Edit server configs, view detailed server status dashboard</li> </ul> <p>Each tab has its own menu items that execute specific actions. The tab bar is only visible in the main view (<code>viewMain</code>).</p>"},{"location":"guides/development/#4-command-pattern","title":"4. Command Pattern","text":"<p>Long-running operations return commands via <code>tea.Cmd</code>:</p> <pre><code>func runBootstrapGo(cfg hytale.BootstrapConfig) tea.Cmd {\n    return func() tea.Msg {\n        ctx, cancel := context.WithCancel(context.Background())\n        SetInstallCancel(cancel)\n        defer CancelInstall()\n\n        out, err := hytale.BootstrapWithContext(ctx, cfg)\n        return commandFinishedMsg{\n            output: out,\n            err: err,\n        }\n    }\n}\n</code></pre> <p>The <code>Update()</code> method handles these messages and updates the UI.</p>"},{"location":"guides/development/#backend-layer-srcinternalhytale","title":"Backend Layer (<code>src/internal/hytale/</code>)","text":""},{"location":"guides/development/#bootstrap-bootstrapgo","title":"Bootstrap (<code>bootstrap.go</code>)","text":"<p>Main installation function that: - Creates directory structure (<code>data/Server/</code>, <code>data/universe/</code>, etc.) - Downloads/installs Hytale server files via <code>hytale-downloader</code> - Configures server instances - Writes configuration files (<code>config.json</code>, <code>permissions.json</code>, etc.)</p> <p>Key Function: </p><pre><code>func BootstrapWithContext(ctx context.Context, cfg BootstrapConfig) (string, error)\n</code></pre><p></p>"},{"location":"guides/development/#server-management-serversgo","title":"Server Management (<code>servers.go</code>)","text":"<p>Functions for: - <code>AddServerInstanceWithContext()</code> - Scale up servers - <code>RemoveLastServerInstance()</code> - Scale down servers - <code>DetectNumServers()</code> - Detection from existing configs - <code>GetServerJarPath()</code> - Get server JAR path</p>"},{"location":"guides/development/#process-management-tmuxgo","title":"Process Management (<code>tmux.go</code>)","text":"<p>Manages server processes via tmux: - <code>TmuxManager</code> struct with server count detection - <code>StartAll()</code>, <code>StopAll()</code>, <code>RestartAll()</code> - Bulk operations - <code>Status()</code> - Human-readable status for all servers - <code>Logs()</code> - Read server logs - Session naming: <code>hytale-server-1</code>, <code>hytale-server-2</code>, etc.</p>"},{"location":"guides/development/#updates-updatego","title":"Updates (<code>update.go</code>)","text":"<p>Handle game and plugin updates: - Download latest Hytale server files via <code>hytale-downloader</code> - Update plugins/addons - Deploy to all servers</p>"},{"location":"guides/development/#constants-constsgo","title":"Constants (<code>consts.go</code>)","text":"<p>Defaults and constants: </p><pre><code>const (\n    DefaultHytaleUser = \"hytale\"\n    DefaultNumServers = 1\n    DefaultBasePort = 5520\n    DefaultJVMArgs = \"-Xms4G -Xmx8G\"\n    TmuxSessionPrefix = \"hytale-server-\"\n    DataDirBase = \"./data\"  // Relative to where hsm is run\n    ConfigDir = \"./data\"\n    // ...\n)\n</code></pre><p></p>"},{"location":"guides/development/#tui-backend-integration","title":"TUI-Backend Integration","text":""},{"location":"guides/development/#commands-in-tuicommandsgo","title":"Commands in <code>tui/commands.go</code>","text":"<p>Wrap backend operations as TUI commands:</p> <pre><code>func runBootstrapGo(cfg hytale.BootstrapConfig) tea.Cmd {\n    return func() tea.Msg {\n        ctx, cancel := context.WithCancel(context.Background())\n        SetInstallCancel(cancel)\n        defer CancelInstall()\n\n        out, err := hytale.BootstrapWithContext(ctx, cfg)\n        return commandFinishedMsg{\n            output: out,\n            err: err,\n        }\n    }\n}\n</code></pre>"},{"location":"guides/development/#context-cancellation","title":"Context Cancellation","text":"<p>Support cancellation for long operations: - Store <code>context.CancelFunc</code> globally - Call <code>Cancel()</code> on user interrupt (Ctrl+C in wizard) - Backend operations check <code>ctx.Done()</code></p>"},{"location":"guides/development/#status-polling","title":"Status Polling","text":"<p>Server status is polled every 2 seconds:</p> <pre><code>func pollServerStatus() tea.Cmd {\n    return tea.Tick(2*time.Second, func(time.Time) tea.Msg {\n        numServers := hytale.DetectNumServers()\n        tm := hytale.NewTmuxManager(hytale.DefaultBasePort)\n        statuses := tm.Status(numServers)\n        return serverStatusMsg{statuses: statuses}\n    })\n}\n</code></pre>"},{"location":"guides/development/#hytale-specific-adaptations","title":"Hytale-Specific Adaptations","text":""},{"location":"guides/development/#config-files","title":"Config Files","text":"<p>Hytale uses: - <code>config.json</code> - Main server configuration - <code>whitelist.json</code> - Whitelist - <code>bans.json</code> - Banned players - <code>permissions.json</code> - Player permissions</p> <p>All configs are stored in <code>data/</code> directory.</p>"},{"location":"guides/development/#ports","title":"Ports","text":"<p>Hytale typically uses: - Game port (default 5520 UDP) - Incrementing ports for multiple servers (5520, 5521, 5522, ...)</p> <p>Note: Hytale uses QUIC over UDP (not TCP).</p>"},{"location":"guides/development/#process-management","title":"Process Management","text":"<p>Hytale server: - Launched via Java: <code>java -jar HytaleServer.jar</code> - Requires Java 25+ runtime - Managed via tmux sessions - JVM arguments configurable (<code>-Xms4G -Xmx8G</code>)</p>"},{"location":"guides/development/#update-process","title":"Update Process","text":"<p>Hytale: - Download server files using <code>hytale-downloader</code> - Uses OAuth authentication for downloads - Files extracted to <code>data/Server/</code> directory - Assets stored in <code>data/Assets.zip</code></p>"},{"location":"guides/development/#styling-and-ux","title":"Styling and UX","text":""},{"location":"guides/development/#colors-and-styles","title":"Colors and Styles","text":"<p>Use Charm Lip Gloss styles:</p> <pre><code>import \"github.com/charmbracelet/lipgloss\"\n\nvar (\n    titleStyle = lipgloss.NewStyle().\n        Bold(true).\n        Foreground(lipgloss.Color(\"205\"))\n    selectedStyle = lipgloss.NewStyle().\n        Foreground(lipgloss.Color(\"205\"))\n    // ...\n)\n</code></pre>"},{"location":"guides/development/#key-ux-features","title":"Key UX Features","text":"<ol> <li>Progress Indicators</li> <li>Status messages in footer</li> <li> <p>Real-time status polling</p> </li> <li> <p>Error Handling</p> </li> <li>Red error messages in status bar</li> <li>Validation feedback on forms</li> <li> <p>Graceful error messages (not raw stack traces)</p> </li> <li> <p>Responsive Design</p> </li> <li>Adjust viewport height based on terminal size</li> <li>Scrollable wizard if fields exceed terminal height</li> <li> <p>Wrapping text in viewports</p> </li> <li> <p>Keyboard Shortcuts</p> </li> <li><code>\u2191/\u2193</code> or <code>j/k</code> - Navigate menu items</li> <li><code>\u2190/\u2192</code> or <code>h/l</code> - Switch tabs</li> <li><code>Enter</code> - Execute selected action</li> <li><code>q</code> or <code>Ctrl+C</code> - Quit</li> <li><code>Esc</code> - Back to main menu</li> </ol>"},{"location":"guides/development/#development-workflow","title":"Development Workflow","text":"<ol> <li> <p>Make Changes </p><pre><code># Make your changes in src/\n</code></pre><p></p> </li> <li> <p>Build </p><pre><code>go build -ldflags=\"-s -w\" -o ./hsm ./src/cmd/hytale-tui\n</code></pre><p></p> </li> <li> <p>Test </p><pre><code>sudo ./hsm\n</code></pre><p></p> </li> <li> <p>Verify</p> </li> <li>TUI builds without errors</li> <li>Navigation works smoothly</li> <li>Commands execute correctly</li> <li>Status updates in real-time</li> </ol>"},{"location":"guides/development/#best-practices","title":"Best Practices","text":"<ul> <li>Keep TUI layer completely separate from game-specific logic</li> <li>Backend should be testable without TUI</li> <li>Use context for cancellation</li> <li>Log all operations for debugging</li> <li>Follow existing naming conventions</li> <li>Handle edge cases (no servers installed, permission errors, etc.)</li> <li>Support both interactive (TUI) and non-interactive (CLI) modes (future)</li> </ul>"},{"location":"guides/development/#testing-checklist","title":"Testing Checklist","text":"<ul> <li> Install wizard completes successfully</li> <li> Multiple servers can be created</li> <li> Servers can be started/stopped/restarted</li> <li> Status polling updates correctly</li> <li> Logs viewport displays correctly</li> <li> Status dashboard shows server states</li> <li> Server scaling (add/remove) works</li> <li> Config updates apply to all servers</li> <li> Game/plugin updates work</li> <li> Error handling is graceful</li> <li> Navigation (tabs, menus) is smooth</li> <li> Cancellation works for long operations</li> </ul>"},{"location":"guides/development/#key-files-reference","title":"Key Files Reference","text":"<ul> <li><code>src/cmd/hytale-tui/main.go</code> - Entry point</li> <li><code>src/internal/tui/model.go</code> - Main state machine</li> <li><code>src/internal/tui/install_wizard.go</code> - Installation wizard</li> <li><code>src/internal/tui/commands.go</code> - Command wrappers</li> <li><code>src/internal/tui/status.go</code> - Status polling</li> <li><code>src/internal/hytale/bootstrap.go</code> - Installation logic</li> <li><code>src/internal/hytale/tmux.go</code> - Process management</li> <li><code>src/internal/hytale/servers.go</code> - Server lifecycle</li> </ul>"},{"location":"guides/managing-servers/","title":"Managing Servers","text":""},{"location":"guides/managing-servers/#managing-servers","title":"Managing Servers","text":"<p>This guide covers everyday operations: starting, stopping, and inspecting your Hytale servers using the <code>hsm</code> binary.</p>"},{"location":"guides/managing-servers/#using-hsm","title":"Using <code>hsm</code>","text":"<p>The main entrypoint for managing servers is the <code>hsm</code> TUI:</p> <pre><code>sudo hsm       # Launch interactive TUI (install, updates, status, logs)\n</code></pre> <p>From the TUI you can:</p> <ul> <li>Install or repair servers (wizard).</li> <li>Start / stop / restart all servers.</li> <li>Check status and logs.</li> <li>Run game or plugin updates.</li> <li>View server configuration.</li> </ul>"},{"location":"guides/managing-servers/#tui-navigation","title":"TUI Navigation","text":"<p>The TUI uses keyboard navigation:</p> <ul> <li>Arrow Keys (\u2191/\u2193) or j/k: Navigate menu items</li> <li>Arrow Keys (\u2190/\u2192) or h/l: Switch between tabs</li> <li>Enter: Select/execute action</li> <li>Esc or q: Exit current view (returns to main menu)</li> <li>Ctrl+C or q (from main menu): Quit application</li> </ul>"},{"location":"guides/managing-servers/#tui-tabs","title":"TUI Tabs","text":""},{"location":"guides/managing-servers/#install-tab","title":"Install Tab","text":"<ul> <li>Run Installation Wizard: Interactive wizard to configure and install servers</li> <li>Configure number of servers, ports, hostname, max players</li> <li>Set JVM arguments and admin password</li> <li>Automatically installs Java 25 and dependencies</li> <li>Guides through Hytale OAuth authentication</li> <li>Downloads server files via <code>hytale-downloader</code></li> </ul>"},{"location":"guides/managing-servers/#updates-tab","title":"Updates Tab","text":"<ul> <li>Update Game: Download and install latest Hytale server files</li> <li>Update Plugins: Update server plugins and addons</li> <li>Enable Auto-Update Monitor: Automatically check for updates (future feature)</li> </ul>"},{"location":"guides/managing-servers/#servers-tab","title":"Servers Tab","text":"<ul> <li>Start All Servers: Launch all server instances</li> <li>Stop All Servers: Gracefully stop all running servers</li> <li>Restart All Servers: Restart all server instances</li> <li>View Server Logs: View logs for a specific server</li> <li>Scale Up Servers: Add more server instances</li> <li>Scale Down Servers: Remove server instances</li> </ul>"},{"location":"guides/managing-servers/#tools-tab","title":"Tools Tab","text":"<ul> <li>Edit Server Configs: Edit shared server configuration files</li> <li>View Server Status: View detailed server status dashboard</li> <li>Shows all servers with their current status (running/stopped)</li> <li>Displays port numbers and tmux session names</li> <li>Auto-updates every 2 seconds</li> <li>Color-coded status indicators</li> </ul>"},{"location":"guides/managing-servers/#console-and-logs-via-tmux","title":"Console and logs via tmux","text":"<p>Servers run inside tmux sessions for easy console access:</p> <pre><code># List all tmux sessions\ntmux ls\n\n# Attach to server 1 console\ntmux attach-session -t hytale-server-1\n\n# View server logs\ntail -f data/logs/server-*.log\n</code></pre> <p>When attached to a tmux session:</p> <ul> <li>Press Ctrl+B, then D to detach without stopping the server.</li> <li>Type commands directly into the Hytale server console.</li> </ul>"},{"location":"guides/managing-servers/#where-servers-live","title":"Where servers live","text":"<p>By default, server data is stored in the <code>data/</code> directory:</p> <pre><code>data/\n\u251c\u2500\u2500 Server/HytaleServer.jar   # Server JAR\n\u251c\u2500\u2500 Assets.zip                # Assets file\n\u251c\u2500\u2500 config.json               # Server config\n\u251c\u2500\u2500 universe/                 # World data\n\u251c\u2500\u2500 logs/                     # Server logs\n\u2514\u2500\u2500 ...\n</code></pre> <p>Each server runs in its own tmux session named <code>hytale-server-N</code> (where N is the server number).</p>"},{"location":"guides/managing-servers/#real-time-status","title":"Real-time status","text":"<p>The TUI provides real-time server status in multiple ways:</p>"},{"location":"guides/managing-servers/#status-bar","title":"Status Bar","text":"<p>The bottom status bar shows: - Number of servers running vs stopped (e.g., \"2 running, 1 stopped\") - Current operation status (e.g., \"Starting all servers...\") - Error messages if operations fail</p> <p>Status is updated automatically every 2 seconds and after server operations (start/stop/restart).</p>"},{"location":"guides/managing-servers/#server-status-page","title":"Server Status Page","text":"<p>Access the detailed status page via Tools Tab \u2192 View Server Status:</p> <ul> <li>Table view showing all servers:</li> <li>Server ID</li> <li>Status (running/stopped) with color coding</li> <li>Port number</li> <li>Tmux session name</li> <li>Auto-refreshes every 2 seconds</li> <li>Real-time updates when servers start/stop</li> </ul> <p>This page is useful for monitoring all servers at a glance and verifying their current state.</p>"},{"location":"guides/related-projects/","title":"Related Projects","text":""},{"location":"guides/related-projects/#related-projects","title":"Related Projects","text":"<p>Hytale Server Manager is a standalone tool for managing Hytale dedicated servers. This page lists related projects and tools that complement HSM.</p>"},{"location":"guides/related-projects/#official-hytale-tools","title":"Official Hytale Tools","text":""},{"location":"guides/related-projects/#hytale-downloader","title":"hytale-downloader","text":"<p>URL: Hytale Server Manual</p> <p>What it is: The official Hytale CLI tool for downloading and updating Hytale server files.</p> <p>Key capabilities:</p> <ul> <li>OAuth authentication \u2013 Integrates with Hytale's authentication system.</li> <li>Server file downloads \u2013 Downloads server JAR and assets from Hytale's patchline servers.</li> <li>Version management \u2013 Tracks downloaded versions and handles updates.</li> </ul> <p>How it works with HSM:</p> <ul> <li>HSM uses <code>hytale-downloader</code> under the hood for all server file downloads.</li> <li>Authentication tokens are shared between HSM and <code>hytale-downloader</code>.</li> <li>The installation wizard guides you through setting up <code>hytale-downloader</code> if needed.</li> </ul>"},{"location":"guides/related-projects/#hytale-auth","title":"hytale-auth","text":"<p>What it is: A helper tool for managing Hytale OAuth authentication.</p> <p>How it works with HSM:</p> <ul> <li>HSM integrates with Hytale's OAuth authentication during installation.</li> <li>The installation wizard guides you through authentication setup.</li> <li>Authentication tokens are stored securely in <code>data/auth.enc</code> and <code>data/.cache/.hytale-downloader-credentials.json</code>.</li> <li>You can re-authenticate via the TUI installation wizard if needed.</li> </ul>"},{"location":"guides/related-projects/#community-resources","title":"Community Resources","text":""},{"location":"guides/related-projects/#official-hytale-documentation","title":"Official Hytale Documentation","text":"<ul> <li>Hytale Server Manual \u2013 Official server setup and administration guide.</li> <li>Server Provider Authentication Guide \u2013 Detailed authentication setup instructions.</li> </ul>"},{"location":"guides/related-projects/#hytale-community","title":"Hytale Community","text":"<ul> <li>Hytale Forums \u2013 Official Hytale community forums.</li> <li>Hytale Discord \u2013 Official Hytale Discord server.</li> </ul> <p>If you're building tools that integrate with HSM, or want to list your Hytale-related project here, please open an issue or pull request!</p>"},{"location":"guides/troubleshooting/","title":"Troubleshooting","text":""},{"location":"guides/troubleshooting/#troubleshooting","title":"Troubleshooting","text":"<p>This page collects common issues and how to diagnose them.</p>"},{"location":"guides/troubleshooting/#server-wont-start","title":"Server won't start","text":"<p>Check server status and logs via the TUI:</p> <pre><code>sudo hsm\n</code></pre> <p>Then navigate to: - Tools Tab \u2192 View Server Status: See detailed status of all servers (running/stopped, ports, sessions) - Servers Tab \u2192 View Server Logs: View logs for specific servers</p> <p>Or attach directly to tmux session:</p> <pre><code>tmux attach-session -t hytale-server-1\n</code></pre> <p>Check for:</p> <ul> <li>Missing or invalid server files in <code>data/Server/HytaleServer.jar</code> or <code>data/Assets.zip</code>.</li> <li>Java version issues (requires Java 25+).</li> <li>Port conflicts if you changed defaults.</li> <li>Authentication errors (missing or expired OAuth tokens).</li> </ul>"},{"location":"guides/troubleshooting/#java-version-issues","title":"Java version issues","text":"<p>HSM requires Java 25+. Check your version:</p> <pre><code>java --version\n</code></pre> <p>If Java 25+ is not installed:</p> <ol> <li>The installation wizard will auto-install Java 25 (Eclipse Temurin via Adoptium).</li> <li>Or install manually: Visit https://adoptium.net/</li> </ol>"},{"location":"guides/troubleshooting/#authentication-errors","title":"Authentication errors","text":"<p>If you see authentication errors:</p> <ol> <li> <p>Check tokens exist:    </p><pre><code>ls -la data/auth.enc\nls -la data/.cache/.hytale-downloader-credentials.json\n</code></pre><p></p> </li> <li> <p>Re-authenticate via TUI:</p> </li> <li>Run <code>sudo hsm</code></li> <li>Go to Install tab</li> <li> <p>Re-run the installation wizard (or update authentication)</p> </li> <li> <p>Manual authentication: Use <code>hytale-downloader</code> directly or the TUI installation wizard to re-authenticate.</p> </li> </ol>"},{"location":"guides/troubleshooting/#hytale-downloader-not-found","title":"hytale-downloader not found","text":"<p>If the installer reports <code>hytale-downloader</code> is missing:</p> <ol> <li> <p>Check if installed:    </p><pre><code>which hytale-downloader\n</code></pre><p></p> </li> <li> <p>Install manually:</p> </li> <li>Visit: https://support.hytale.com/hc/en-us/articles/45326769420827-Hytale-Server-Manual</li> <li>Download the latest <code>hytale-downloader</code> binary</li> <li> <p>Install to <code>/usr/local/bin/hytale-downloader</code></p> </li> <li> <p>Verify:    </p><pre><code>hytale-downloader -version\n</code></pre><p></p> </li> </ol>"},{"location":"guides/troubleshooting/#cant-connect-to-server","title":"Can't connect to server","text":"<p>Check:</p> <ul> <li>Firewall rules: Ensure UDP port 5520 (and other server ports) are open and forwarded on your router.</li> <li>Server running: Check status via TUI (<code>sudo hsm</code>) or <code>tmux ls</code>.</li> <li>Network: Hytale uses QUIC over UDP (not TCP) \u2013 ensure UDP traffic is allowed.</li> <li>Server logs: Check <code>data/logs/</code> for errors.</li> </ul>"},{"location":"guides/troubleshooting/#port-conflicts","title":"Port conflicts","text":"<p>If you see port binding errors:</p> <ol> <li> <p>Check what's using the port:    </p><pre><code>sudo netstat -tulpn | grep 5520\n</code></pre><p></p> </li> <li> <p>Change base port: Configure a different base port in the installation wizard.</p> </li> <li> <p>Kill conflicting processes:    </p><pre><code>sudo killall java  # Be careful - kills all Java processes\n</code></pre><p></p> </li> </ol>"},{"location":"guides/troubleshooting/#permission-errors","title":"Permission errors","text":"<p>If you encounter permission errors:</p> <ul> <li>Ensure you're running with <code>sudo hsm</code>.</li> <li>Check that <code>data/</code> directory is writable.</li> <li>Verify tmux is installed and accessible: <code>tmux -V</code></li> </ul>"},{"location":"guides/troubleshooting/#when-in-doubt","title":"When in doubt","text":"<ul> <li>Re-run the installer: Use the TUI installation wizard to repair a broken installation.</li> <li>Check logs: Review <code>data/logs/</code> for detailed error messages.</li> <li>Verify files: Ensure <code>data/Server/HytaleServer.jar</code> and <code>data/Assets.zip</code> exist.</li> <li>Check tmux logs: Attach to tmux session with <code>tmux attach-session -t hytale-server-1</code> to see full output.</li> </ul>"}]}